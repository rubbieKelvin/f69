{% extends 'project/base.html' %}

{% block project_actions %}
<a href="#" class="btn btn-primary">Create Secret</a>
{% endblock %}

{% block content %}
<div class="api-tab">
  <div class="tab-header">
    <h2>API Configuration</h2>
    <p>Manage API credentials and secrets for this project. Use these to authenticate with the F69 API.</p>
  </div>

  <div class="api-credentials">
    <h3>Project Credentials</h3>
    <div class="credentials-grid">
      <div class="credential-item">
        <label class="credential-label">Client ID</label>
        <div class="credential-value">
          <code class="credential-code">{{ client_id }}</code>
          <button class="copy-btn" data-copy="{{ project.id }}">Copy</button>
        </div>
        <small class="credential-help">Use this as your client identifier when making API requests</small>
      </div>
      
      <div class="credential-item">
        <label class="credential-label">Project ID</label>
        <div class="credential-value">
          <code class="credential-code">{{ project.id }}</code>
          <button class="copy-btn" data-copy="{{ project.id }}">Copy</button>
        </div>
        <small class="credential-help">Your unique project identifier</small>
      </div>
    </div>
  </div>

  <div class="api-secrets">
    <div class="section-header">
      <h3>API Secrets</h3>
      <a href="#" class="btn btn-secondary">Create New Secret</a>
    </div>
    
    {% if secrets %}
    <div class="secrets-table">
      <div class="table-header">
        <div class="th">Secret Name</div>
        <div class="th">Created</div>
        <div class="th">Last Used</div>
        <div class="th">Actions</div>
      </div>
      
      {% for secret in secrets %}
      <div class="table-row">
        <div class="td">
          <div class="secret-info">
            <strong>{{ secret.name|default:"Unnamed Secret" }}</strong>
            <div class="secret-id">ID: {{ secret.id|slice:":8" }}...</div>
          </div>
        </div>
        <div class="td">
          {{ secret.created_at|date:"M d, Y H:i" }}
        </div>
        <div class="td">
          <span class="text-muted">Never</span>
        </div>
        <div class="td">
          <div class="action-buttons">
            <button class="btn-small btn-secondary">View</button>
            <button class="btn-small btn-danger">Revoke</button>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
      <div class="empty-icon">ðŸ”‘</div>
      <h3>No API secrets yet</h3>
      <p>Create your first API secret to start authenticating with the F69 API.</p>
      <a href="#" class="btn btn-primary">Create Your First Secret</a>
    </div>
    {% endif %}
  </div>

  <div class="api-docs">
    <h3>API Documentation</h3>
    <div class="docs-info">
      <p>Use these credentials to authenticate with the F69 API:</p>
      <div class="code-example">
        <pre><code>curl -H "Authorization: Bearer YOUR_SECRET" \
     -H "X-Client-ID: {{ project.id }}" \
     https://api.f69.dev/v1/features</code></pre>
      </div>
      <a href="#" class="docs-link">View Full API Documentation â†’</a>
    </div>
  </div>
</div>
{% endblock %} 